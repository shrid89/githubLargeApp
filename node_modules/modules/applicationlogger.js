"use strict";

/**
 *  require modules needed
 */
var request = require("request");
var arrayQuery = require('array-query');

function nodeApplicationLogger() {
    return new ApplicationLogger();
}


function ApplicationLogger() {

}

ApplicationLogger.prototype.addLog = function (params) {
    try {
        var applicationLog = new _gConfig.ApplicationLog();
        //------------------------CONSTANT VARIABLE FOR LOG----------------------------//
        applicationLog.workerIP = _workerIP;
        applicationLog.workerPort = _workerPort;
        applicationLog.workerID = _workerID;
        applicationLog.createdOn = new Date();
        //------------------ BELOW PARAMS VARY PER LOG-----------------------//
        applicationLog.organizationID = params.organizationID;
        applicationLog.projectID = params.projectID;
        applicationLog.changeSetID = params.changeSetID;
        applicationLog.action = params.action;
        applicationLog.functionName = params.functionName;
        applicationLog.inputParams = JSON.stringify(params.inputParams);
        applicationLog.status = params.status;
        applicationLog.response = params.response;
        applicationLog.logMessage = params.logMessage;
        //applicationLog.save(function (err, resApplicationLog) {
        //    if (!err && resApplicationLog) {
        //        console.log('**SUCCESS :: ==> Application Log Saved Successfully');
        //    }
        //    else {
        //        console.log('@@FAIL :: ==> Application Log FAILED TO SAVE');
        //    }
        //});
        
        //applicationLog.save();

    } catch (err) {
        console.log('@@ INSIDE CATCH ApplicatinLogger.prototype.addLog  ::==> ' + err);
    }
}

module.exports.nodeApplicationLogger = nodeApplicationLogger;

